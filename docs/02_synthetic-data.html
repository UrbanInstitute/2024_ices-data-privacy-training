<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-06-12">

<title>Introduction to Data Privacy and Data Synthesis Techniques - 2&nbsp; Synthetic Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03_disclosure_utility_metrics.html" rel="next">
<link href="./b_data-privacy-and-synthetic-data.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="www/styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./b_data-privacy-and-synthetic-data.html">Data Privacy and Synthesis</a></li><li class="breadcrumb-item"><a href="./02_synthetic-data.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Synthetic Data</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Introduction to Data Privacy and Data Synthesis Techniques</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./a_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction and Setup</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_introduction_to_data_privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Data Privacy</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./b_data-privacy-and-synthetic-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Privacy and Synthesis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_synthetic-data.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Synthetic Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_disclosure_utility_metrics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Utility and Disclosure Risk Metrics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_synthesis-demo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Synthesis Demo</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_synthetic-data-case-studies.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Synthetic Data Case Studies</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./c_differential-privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Differential Privacy</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_introduction_to_differential_privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction to Differential Privacy and Formal Privacy</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_differential_privacy_details.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Formally Private Definitions, Fundamental Mechanisms, and Algorithms</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_differential_privacy_case_studies.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Formally Private Case Studies</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d_where-to-go.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Where to Go From Here</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link active" data-scroll-target="#exercise-1"><span class="header-section-number">2.1</span> Exercise 1</a></li>
  <li><a href="#exercise-2" id="toc-exercise-2" class="nav-link" data-scroll-target="#exercise-2"><span class="header-section-number">2.2</span> Exercise 2</a></li>
  <li><a href="#synthetic-data---imputation-connection" id="toc-synthetic-data---imputation-connection" class="nav-link" data-scroll-target="#synthetic-data---imputation-connection"><span class="header-section-number">2.3</span> Synthetic Data &lt;-&gt; Imputation Connection</a>
  <ul class="collapse">
  <li><a href="#imputation-example" id="toc-imputation-example" class="nav-link" data-scroll-target="#imputation-example"><span class="header-section-number">2.3.1</span> Imputation Example</a></li>
  </ul></li>
  <li><a href="#sequential-synthesis" id="toc-sequential-synthesis" class="nav-link" data-scroll-target="#sequential-synthesis"><span class="header-section-number">2.4</span> Sequential Synthesis</a></li>
  <li><a href="#parametric-vs.-nonparametric-data-generation-process" id="toc-parametric-vs.-nonparametric-data-generation-process" class="nav-link" data-scroll-target="#parametric-vs.-nonparametric-data-generation-process"><span class="header-section-number">2.5</span> Parametric vs.&nbsp;Nonparametric Data Generation Process</a></li>
  <li><a href="#implicates" id="toc-implicates" class="nav-link" data-scroll-target="#implicates"><span class="header-section-number">2.6</span> Implicates</a></li>
  <li><a href="#exercise-3-sequential-synthesis" id="toc-exercise-3-sequential-synthesis" class="nav-link" data-scroll-target="#exercise-3-sequential-synthesis"><span class="header-section-number">2.7</span> Exercise 3: Sequential Synthesis</a></li>
  <li><a href="#exercise-4-multiple-implicates" id="toc-exercise-4-multiple-implicates" class="nav-link" data-scroll-target="#exercise-4-multiple-implicates"><span class="header-section-number">2.8</span> Exercise 4: Multiple Implicates</a></li>
  <li><a href="#exercise-5-partial-vs.-fully-synthetic" id="toc-exercise-5-partial-vs.-fully-synthetic" class="nav-link" data-scroll-target="#exercise-5-partial-vs.-fully-synthetic"><span class="header-section-number">2.9</span> Exercise 5: Partial vs.&nbsp;fully synthetic</a></li>
  <li><a href="#exercise-6" id="toc-exercise-6" class="nav-link" data-scroll-target="#exercise-6"><span class="header-section-number">2.10</span> Exercise 6</a></li>
  <li><a href="#suggested-reading---synthetic-data" id="toc-suggested-reading---synthetic-data" class="nav-link" data-scroll-target="#suggested-reading---synthetic-data"><span class="header-section-number">2.11</span> Suggested Reading - Synthetic Data</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Synthetic Data</span></h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 12, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<style>
@import url('https://fonts.googleapis.com/css?family=Lato&display=swap');
</style>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Synthetic data
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Synthetic data</strong> consists of pseudo or “fake” records that can be statistically representative of the confidential data.</p>
</div>
</div>
<ul>
<li>The goal of most syntheses is to closely mimic the underlying distribution and statistical properties of the real data to preserve data utility while minimizing disclosure risks.</li>
<li>Synthesized values also limit an intruder’s confidence, because they cannot confirm a synthetic value exists in the confidential dataset.</li>
<li>Synthetic data may be used as a “training dataset” to develop programs to run on confidential data via a validation server.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Partially synthetic
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Partially synthetic</strong> data only synthesizes some observations or variables in the released data (generally those most sensitive to disclosure). In partially synthetic data, there remains a one-to-one mapping between confidential records and synthetic records.</p>
</div>
</div>
<p>In <a href="#fig-partial">Figure&nbsp;<span>2.1</span></a>, we see an example of what a partially synthesized version of the above confidential data could look like.</p>
<div id="fig-partial" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="www/images/partially-synthetic-data.png" class="img-fluid figure-img" width="550"></p>
<figcaption class="figure-caption">Figure&nbsp;2.1: Partially synthetic data</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Fully synthetic
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Fully synthetic</strong> data synthesizes all values in the dataset with imputed amounts. Fully synthetic data no longer directly map onto the confidential records, but remain statistically representative. Since fully synthetic data does not contain any actual observations, it protects against both attribute and identity disclosure.</p>
</div>
</div>
<p>In <a href="#fig-fully">Figure&nbsp;<span>2.2</span></a>, we see an example of what a fully synthesized version of the confidential looks like.</p>
<div id="fig-fully" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="www/images/fully-synthetic-data.png" class="img-fluid figure-img" width="550"></p>
<figcaption class="figure-caption">Figure&nbsp;2.2: Fully synthetic data</figcaption>
</figure>
</div>
<section id="exercise-1" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="exercise-1"><span class="header-section-number">2.1</span> Exercise 1</h2>
<p>Consider the penguins data from earlier.</p>
<div class="cell">
<div class="cell-output-display">

<div id="urban_table" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#urban_table table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#urban_table thead, #urban_table tbody, #urban_table tfoot, #urban_table tr, #urban_table td, #urban_table th {
  border-style: none;
}

#urban_table p {
  margin: 0;
  padding: 0;
}

#urban_table .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 13px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: hidden;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: transparent;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#urban_table .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#urban_table .gt_title {
  color: #333333;
  font-size: 13px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#urban_table .gt_subtitle {
  color: #333333;
  font-size: 13px;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#urban_table .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_bottom_border {
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#urban_table .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#urban_table .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#urban_table .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#urban_table .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#urban_table .gt_spanner_row {
  border-bottom-style: hidden;
}

#urban_table .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: transparent;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#urban_table .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: initial;
  border-top-style: transparent;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#urban_table .gt_from_md > :first-child {
  margin-top: 0;
}

#urban_table .gt_from_md > :last-child {
  margin-bottom: 0;
}

#urban_table .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#urban_table .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: dashed;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#urban_table .gt_row_group_first td {
  border-top-width: 2px;
}

#urban_table .gt_row_group_first th {
  border-top-width: 2px;
}

#urban_table .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#urban_table .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#urban_table .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#urban_table .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#urban_table .gt_table_body {
  border-top-style: transparent;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: transparent;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_footnote {
  margin: 0px;
  font-size: 13px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_sourcenote {
  font-size: 13px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_left {
  text-align: left;
}

#urban_table .gt_center {
  text-align: center;
}

#urban_table .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#urban_table .gt_font_normal {
  font-weight: normal;
}

#urban_table .gt_font_bold {
  font-weight: bold;
}

#urban_table .gt_font_italic {
  font-style: italic;
}

#urban_table .gt_super {
  font-size: 65%;
}

#urban_table .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#urban_table .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#urban_table .gt_indent_1 {
  text-indent: 5px;
}

#urban_table .gt_indent_2 {
  text-indent: 10px;
}

#urban_table .gt_indent_3 {
  text-indent: 15px;
}

#urban_table .gt_indent_4 {
  text-indent: 20px;
}

#urban_table .gt_indent_5 {
  text-indent: 25px;
}

#urban_table .gt_row {
  padding: 5px 5px 5px 5px;
}

#urban_table .gt_sourcenote {
  padding: 16px 0px 0px 0px;
}

#urban_table .gt_footnote {
  padding: 16px 0px 0px 0px;
}

#urban_table .gt_subtitle {
  padding: 0px 0px 2px 0px;
}

#urban_table .gt_col_heading {
  padding: 10px 5px 10px 5px;
}

#urban_table .gt_col_headings {
  padding: 0px 0px 0px 0px;
  border-top-width: 0px;
}

#urban_table .gt_group_heading {
  padding: 15px 0px 0px 0px;
}

#urban_table .gt_stub {
  border-bottom-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: #d2d2d2;
  border-top-color: black;
  text-align: left;
}

#urban_table .gt_grand_summary_row {
  border-bottom-width: 1px;
  border-top-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: #d2d2d2;
  border-top-color: #d2d2d2;
}

#urban_table .gt_summary_row {
  border-bottom-width: 1px;
  border-top-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: #d2d2d2;
}

#urban_table .gt_column_spanner {
  padding-top: 10px;
  padding-bottom: 10px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="color: #696969; text-align: left; font-weight: normal; text-transform: uppercase;"></td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="color: #000000; font-size: 13px; font-weight: bold;" scope="col" id="species">species</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="color: #000000; font-size: 13px; font-weight: bold;" scope="col" id="bill_length_mm">bill_length_mm</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="color: #000000; font-size: 13px; font-weight: bold;" scope="col" id="sex">sex</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="species" class="gt_row gt_center" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Chinstrap</td>
<td headers="bill_length_mm" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">51.3</td>
<td headers="sex" class="gt_row gt_center" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">male</td></tr>
    <tr><td headers="species" class="gt_row gt_center" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Gentoo</td>
<td headers="bill_length_mm" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">44.0</td>
<td headers="sex" class="gt_row gt_center" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">female</td></tr>
    <tr><td headers="species" class="gt_row gt_center" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Chinstrap</td>
<td headers="bill_length_mm" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">51.4</td>
<td headers="sex" class="gt_row gt_center" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">male</td></tr>
    <tr><td headers="species" class="gt_row gt_center" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Chinstrap</td>
<td headers="bill_length_mm" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">45.4</td>
<td headers="sex" class="gt_row gt_center" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">female</td></tr>
    <tr><td headers="species" class="gt_row gt_center" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Adelie</td>
<td headers="bill_length_mm" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">36.2</td>
<td headers="sex" class="gt_row gt_center" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">female</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Let’s say that researchers decide that the <code>sex</code> of the penguins in the data are not confidential, but the <code>species</code> and <code>bill length</code> are. So, they develop regression models that predict <code>species</code> conditional on <code>sex</code> and predict <code>bill_length</code> conditional on <code>species</code> and <code>sex</code>. They then use those models to predict species and bill lengths for each row in the data and then release it publicly.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page"><font color="#55b748">Question</font></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false"><font color="#55b748">Solution</font></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><em>What specific Statistical Disclosure Control method are these researchers using?</em></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p><em>What specific Statistical Disclosure Control method are these researchers using?</em></p>
<p>They are using partially synthetic data.</p>
</div>
</div>
</div>
</section>
<section id="exercise-2" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="exercise-2"><span class="header-section-number">2.2</span> Exercise 2</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true"><font color="#55b748">Question</font></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false"><font color="#55b748">Answer</font></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p><em>A researcher has confidential data on a population. To protect the privacy of respondents, the researcher releases a synthetic version of the data. A data attacker then runs a record linkage attack against the synthetic data and is able to accurately identify 5 individuals in the data. Based on this information, can you tell whether the researcher released fully or partially synthetic data? Why or why not?</em></p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p><em>A researcher has confidential data on a population. To protect the privacy of respondents, the researcher releases a synthetic version of the data. A data attacker then runs a record linkage attack against the synthetic data and is able to accurately identify 5 individuals in the data. Based on this information, can you tell whether the researcher released fully or partially synthetic data? Why or why not?</em></p>
<p>Record linkage attacks are only possible for partially synthetic data, though other types of disclosure risk still apply to fully synthetic data.</p>
</div>
</div>
</div>
</section>
<section id="synthetic-data---imputation-connection" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="synthetic-data---imputation-connection"><span class="header-section-number">2.3</span> Synthetic Data &lt;-&gt; Imputation Connection</h2>
<ul>
<li>Multiple imputation was originally developed to address non-response problems in surveys <span class="citation" data-cites="rubin1977formalizing">(<a href="references.html#ref-rubin1977formalizing" role="doc-biblioref">Rubin 1977</a>)</span>.</li>
<li>Statisticians created new observations or values to replace the missing data by developing a model based on other available respondent information.</li>
<li>This process of replacing missing data with substituted values is called <strong>imputation</strong>.</li>
</ul>
<section id="imputation-example" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="imputation-example"><span class="header-section-number">2.3.1</span> Imputation Example</h3>
<p>Imagine you are running a conference with 80 attendees. You are collecting names and ages of all your attendees. Unfortunately, when the conference is over, you realize that only about half of the attendees listed their ages. One common imputation technique is to just replace the missing values with the mean age of those in the data.</p>
<p><a href="#fig-histogram-before">Figure&nbsp;<span>2.3</span></a> shows the distribution of the 40 age observations that are not missing.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-histogram-before" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02_synthetic-data_files/figure-html/fig-histogram-before-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;2.3: <strong>?(caption)</strong></figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-histogram-after">Figure&nbsp;<span>2.4</span></a> shows the histogram after imputation.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-histogram-after" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02_synthetic-data_files/figure-html/fig-histogram-after-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;2.4: <strong>?(caption)</strong></figcaption>
</figure>
</div>
</div>
</div>
<ul>
<li>Using the mean to impute the missing ages removes useful variation and conceals information from the “tails” of the distribution.</li>
<li>Simply put, we used a straightforward model (replace the data with the mean) and sampled from that model to fill in the missing values.</li>
<li>When creating synthetic data, this process is repeated for an entire variable, or set of variables.</li>
<li>In a sense, the entire column is treated as missing!</li>
</ul>
</section>
</section>
<section id="sequential-synthesis" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="sequential-synthesis"><span class="header-section-number">2.4</span> Sequential Synthesis</h2>
<p>A more advanced implementation of synthetic data generation estimates models for each predictor with previously synthesized variables used as predictors. This iterative process is called <strong>sequential synthesis</strong> or <strong>fully conditional specification (FCS)</strong>. This allows us to easily model multivariate relationships (or joint distributions) without being computationally expensive.</p>
<p>The process described above may be easier to understand with the following table:</p>
<div class="cell">
<div class="cell-output-display">

<div id="urban_table" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#urban_table table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#urban_table thead, #urban_table tbody, #urban_table tfoot, #urban_table tr, #urban_table td, #urban_table th {
  border-style: none;
}

#urban_table p {
  margin: 0;
  padding: 0;
}

#urban_table .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 13px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: hidden;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: transparent;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#urban_table .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#urban_table .gt_title {
  color: #333333;
  font-size: 13px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#urban_table .gt_subtitle {
  color: #333333;
  font-size: 13px;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#urban_table .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_bottom_border {
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#urban_table .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#urban_table .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#urban_table .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#urban_table .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#urban_table .gt_spanner_row {
  border-bottom-style: hidden;
}

#urban_table .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: transparent;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#urban_table .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: initial;
  border-top-style: transparent;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#urban_table .gt_from_md > :first-child {
  margin-top: 0;
}

#urban_table .gt_from_md > :last-child {
  margin-bottom: 0;
}

#urban_table .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#urban_table .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: dashed;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#urban_table .gt_row_group_first td {
  border-top-width: 2px;
}

#urban_table .gt_row_group_first th {
  border-top-width: 2px;
}

#urban_table .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#urban_table .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#urban_table .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#urban_table .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#urban_table .gt_table_body {
  border-top-style: transparent;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: transparent;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_footnote {
  margin: 0px;
  font-size: 13px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_sourcenote {
  font-size: 13px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_left {
  text-align: left;
}

#urban_table .gt_center {
  text-align: center;
}

#urban_table .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#urban_table .gt_font_normal {
  font-weight: normal;
}

#urban_table .gt_font_bold {
  font-weight: bold;
}

#urban_table .gt_font_italic {
  font-style: italic;
}

#urban_table .gt_super {
  font-size: 65%;
}

#urban_table .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#urban_table .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#urban_table .gt_indent_1 {
  text-indent: 5px;
}

#urban_table .gt_indent_2 {
  text-indent: 10px;
}

#urban_table .gt_indent_3 {
  text-indent: 15px;
}

#urban_table .gt_indent_4 {
  text-indent: 20px;
}

#urban_table .gt_indent_5 {
  text-indent: 25px;
}

#urban_table .gt_row {
  padding: 5px 5px 5px 5px;
}

#urban_table .gt_sourcenote {
  padding: 16px 0px 0px 0px;
}

#urban_table .gt_footnote {
  padding: 16px 0px 0px 0px;
}

#urban_table .gt_subtitle {
  padding: 0px 0px 2px 0px;
}

#urban_table .gt_col_heading {
  padding: 10px 5px 10px 5px;
}

#urban_table .gt_col_headings {
  padding: 0px 0px 0px 0px;
  border-top-width: 0px;
}

#urban_table .gt_group_heading {
  padding: 15px 0px 0px 0px;
}

#urban_table .gt_stub {
  border-bottom-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: #d2d2d2;
  border-top-color: black;
  text-align: left;
}

#urban_table .gt_grand_summary_row {
  border-bottom-width: 1px;
  border-top-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: #d2d2d2;
  border-top-color: #d2d2d2;
}

#urban_table .gt_summary_row {
  border-bottom-width: 1px;
  border-top-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: #d2d2d2;
}

#urban_table .gt_column_spanner {
  padding-top: 10px;
  padding-bottom: 10px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="color: #696969; text-align: left; font-weight: normal; text-transform: uppercase;"></td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="color: #000000; font-size: 13px; font-weight: bold;" scope="col" id="Step">Step</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="color: #000000; font-size: 13px; font-weight: bold;" scope="col" id="Outcome">Outcome</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="color: #000000; font-size: 13px; font-weight: bold;" scope="col" id="Modelled with">Modelled with</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="color: #000000; font-size: 13px; font-weight: bold;" scope="col" id="Predicted with">Predicted with</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Step" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">1</td>
<td headers="Outcome" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Sex</td>
<td headers="Modelled with" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">—</td>
<td headers="Predicted with" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Random sampling with replacement</td></tr>
    <tr><td headers="Step" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">2</td>
<td headers="Outcome" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Age</td>
<td headers="Modelled with" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Sex</td>
<td headers="Predicted with" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Sampled Sex</td></tr>
    <tr><td headers="Step" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">3</td>
<td headers="Outcome" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Social Security Benefits</td>
<td headers="Modelled with" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Sex, Age</td>
<td headers="Predicted with" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">Sampled Sex, Sampled Age</td></tr>
    <tr><td headers="Step" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">—</td>
<td headers="Outcome" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">—</td>
<td headers="Modelled with" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">—</td>
<td headers="Predicted with" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">—</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<ul>
<li>We can select the synthesis order based on the priority of the variables or the relationships between them.</li>
<li>The earlier in the order a variable is synthesized, the better the original information is preserved in the synthetic data <strong>usually</strong>.</li>
<li><span class="citation" data-cites="bowen2021differentially">(<a href="references.html#ref-bowen2021differentially" role="doc-biblioref">Bowen, Liu, and Su 2021</a>)</span> proposed a method that ranks variable importance by either practical or statistical utility and sequentially synthesizes the data accordingly.</li>
</ul>
</section>
<section id="parametric-vs.-nonparametric-data-generation-process" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="parametric-vs.-nonparametric-data-generation-process"><span class="header-section-number">2.5</span> Parametric vs.&nbsp;Nonparametric Data Generation Process</h2>
<p><strong>Parametric data synthesis</strong> is the process of data generation based on a parametric distribution or generative model.</p>
<ul>
<li><p>Parametric models assume a finite number of parameters that capture the complexity of the data.</p></li>
<li><p>They are generally less flexible, but more interpretable than nonparametric models.</p></li>
<li><p>Examples: regression to assign an age variable, sampling from a probability distribution, Bayesian models, or copula based models.</p></li>
</ul>
<p><strong>Nonparametric data synthesis</strong> is the process of data generation that is <em>not</em> based on assumptions about an underlying distribution or model.</p>
<ul>
<li><p>Often, nonparametric methods use frequency proportions or marginal probabilities as weights for some type of sampling scheme.</p></li>
<li><p>They are generally more flexible, but less interpretable than parametric models.</p></li>
<li><p>Examples: assigning gender based on underlying proportions, CART (Classification and Regression Trees) models, RNN models, etc.</p></li>
</ul>
<p><strong>Important:</strong> Synthetic data are only as good as the models used for imputation!</p>
</section>
<section id="implicates" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="implicates"><span class="header-section-number">2.6</span> Implicates</h2>
<ul>
<li><p>Researchers can create any number of versions of a partially synthetic or fully synthetic dataset. Each version of the dataset is called an <strong>implicate</strong>. These can also be referred to as replicates or simply “synthetic datasets”</p>
<ul>
<li>For partially synthetic data, non-synthesized variables are the same across each version of the dataset.</li>
</ul></li>
<li><p>Multiple implicates are useful for understanding the uncertainty added by imputation and are required for calculating valid standard errors.</p></li>
<li><p>More than one implicate can be released for public use; each new release, however, increases disclosure risk (but allows for more complete analysis and better inferences, provided users use the correct combining rules).</p></li>
<li><p>Implicates can also be analyzed internally to find which version(s) of the dataset provide the most utility in terms of data quality.</p></li>
</ul>
</section>
<section id="exercise-3-sequential-synthesis" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="exercise-3-sequential-synthesis"><span class="header-section-number">2.7</span> Exercise 3: Sequential Synthesis</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true"><font color="#55b748"><strong>Question</strong></font></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false"><font color="#55b748"><strong>Answer</strong></font></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p>You have a confidential dataset that contains information about dogs’ <code>weight</code> and their <code>height</code>. You decide to sequentially synthesize these two variables and write up your method below. Can you spot the mistake in writing up your method?</p>
<blockquote class="blockquote">
<p>To create a synthetic record, first synthetic pet weight is assigned based on a random draw from a normal distribution with mean equal to the average of confidential weights, and standard deviation equal to the standard deviation of confidential weights. Then the confidential <code>height</code> is regressed on the synthetic <code>weight</code>. Using the resulting regression coefficients, a synthetic <code>height</code> variable is generated for each row in the data using just the synthetic <code>weight</code> values as an input.</p>
</blockquote>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<p>You have a confidential dataset that contains information about dogs’ <code>weight</code> and their <code>height</code>. You decide to sequentially synthesize these two variables and write up your method below. Can you spot the mistake in writing up your method?</p>
<blockquote class="blockquote">
<p>To create a synthetic record, first synthetic pet weight is assigned based on a random draw from a normal distribution with mean equal to the average of confidential weights, and standard deviation equal to the standard deviation of confidential weights. Then the confidential <code>height</code> is regressed on the synthetic <code>weight</code>. Using the resulting regression coefficients, a synthetic <code>height</code> variable is generated for each row in the data using just the synthetic <code>weight</code> values as an input.</p>
</blockquote>
<p><strong><code>Height</code> should be regressed on the confidential values for <code>weight</code>, rather than the synthetic values for <code>weight</code></strong></p>
</div>
</div>
</div>
</section>
<section id="exercise-4-multiple-implicates" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="exercise-4-multiple-implicates"><span class="header-section-number">2.8</span> Exercise 4: Multiple Implicates</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true"><font color="#55b748"><strong>Question</strong></font></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false"><font color="#55b748"><strong>Notes</strong></font></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<p><em>What are the privacy implications for releasing multiple versions of a synthetic dataset (implicates)? Do these implications change for partially vs.&nbsp;fully synthetic data?</em></p>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<p><em>What are the privacy implications for releasing multiple versions of a synthetic dataset (implicates)? Do these implications change for partially vs.&nbsp;fully synthetic data?</em></p>
<ul>
<li><p>Releasing multiple implicates improves transparency and analytical value, but increases disclosure risk (violates “security through obscurity”).</p></li>
<li><p>It is more risky to release partially synthetic implicates, since non-synthesized records are the same across each dataset and there remains a 1-to-1 relationship between confidential and synthesized records.</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="exercise-5-partial-vs.-fully-synthetic" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="exercise-5-partial-vs.-fully-synthetic"><span class="header-section-number">2.9</span> Exercise 5: Partial vs.&nbsp;fully synthetic</h2>
<p>Shown here are the first seven rows of a dataset about the prices and attributes of diamonds. Suppose you decide to synthesize the “price” variable, because that information is too sensitive for public release.</p>
<table class="table">
<thead>
<tr class="header">
<th>price</th>
<th>carat</th>
<th>cut</th>
<th>color</th>
<th>clarity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>326</td>
<td>0.23</td>
<td>Ideal</td>
<td>E</td>
<td>SI2</td>
</tr>
<tr class="even">
<td>326</td>
<td>0.21</td>
<td>Premium</td>
<td>E</td>
<td>SI1</td>
</tr>
<tr class="odd">
<td>327</td>
<td>0.23</td>
<td>Good</td>
<td>E</td>
<td>VS1</td>
</tr>
<tr class="even">
<td>334</td>
<td>0.29</td>
<td>Premium</td>
<td>I</td>
<td>VS2</td>
</tr>
<tr class="odd">
<td>335</td>
<td>0.31</td>
<td>Good</td>
<td>J</td>
<td>SI2</td>
</tr>
<tr class="even">
<td>336</td>
<td>0.24</td>
<td>Very Good</td>
<td>J</td>
<td>VVS2</td>
</tr>
<tr class="odd">
<td>336</td>
<td>0.24</td>
<td>Very Good</td>
<td>I</td>
<td>VVS1</td>
</tr>
</tbody>
</table>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true"><font color="#55b748"><strong>Question</strong></font></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false"><font color="#55b748"><strong>Notes</strong></font></a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<p><em>After you synthesize the price variable, would the resulting dataset be considered partially or fully synthetic?</em></p>
<p><em>What are the trade-offs of a partially synthetic dataset compared to a fully synthetic dataset?</em></p>
<p><em>Describe in words how you would synthesize the “price” variable. Is the method you described parametric or non-parametric? Why?</em></p>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<p><em>After you synthesize the price variable, would the resulting dataset be considered partially or fully synthetic?</em></p>
<p>Partially synthetic</p>
<p><em>What are the trade-offs of a partially synthetic dataset compared to a fully synthetic dataset?</em></p>
<ul>
<li><p>Changing only some variables (partial synthesis) in general leads to higher utility in analysis since the relationships between variables are by definition unchanged (Drechsler et al, 2008).</p></li>
<li><p>Disclosure in fully synthetic data is challenging because all values are imputed, while partial synthesis has higher disclosure risk since confidential values remain in the dataset (Drechsler et al, 2008).</p>
<ul>
<li>Note that while the risk of disclosure for fully synthetic data is very low, it is not zero.</li>
</ul></li>
<li><p>Accurate and exhaustive specification of variable relationships and constraints in fully synthetic data is difficult and if done incorrectly can lead to bias <span class="citation" data-cites="drechslerjorgcomparingsynthetic">(<a href="references.html#ref-drechslerjorgcomparingsynthetic" role="doc-biblioref"><strong>drechslerjorgcomparingsynthetic?</strong></a>)</span>.</p>
<ul>
<li>If a variable is synthesized incorrectly early in a sequential synthesis, all variables synthesized on the basis of that variable will be affected.</li>
</ul></li>
<li><p>Partially synthetic data may be publicly perceived as more reliable than fully synthetic data.</p></li>
</ul>
<p><em>Describe in words how you would synthesize the “price” variable. Is the method you described parametric or non-parametric? Why?</em></p>
</div>
</div>
</div>
</section>
<section id="exercise-6" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="exercise-6"><span class="header-section-number">2.10</span> Exercise 6</h2>
<p>For this exercise, we will use the <code>starwars</code> dataset from the <code>dplyr</code> package. We will practice sequentially synthesizing a binary variable (<code>gender</code>) and a numeric variable (<code>height</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run this to get the dataset we will work with</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>starwars <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>starwars <span class="sc">|&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gender, height) <span class="sc">|&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">create_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="urban_table" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#urban_table table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#urban_table thead, #urban_table tbody, #urban_table tfoot, #urban_table tr, #urban_table td, #urban_table th {
  border-style: none;
}

#urban_table p {
  margin: 0;
  padding: 0;
}

#urban_table .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 13px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: hidden;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: transparent;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#urban_table .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#urban_table .gt_title {
  color: #333333;
  font-size: 13px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#urban_table .gt_subtitle {
  color: #333333;
  font-size: 13px;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#urban_table .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_bottom_border {
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#urban_table .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#urban_table .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#urban_table .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#urban_table .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#urban_table .gt_spanner_row {
  border-bottom-style: hidden;
}

#urban_table .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: transparent;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#urban_table .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 13px;
  font-weight: initial;
  border-top-style: transparent;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#urban_table .gt_from_md > :first-child {
  margin-top: 0;
}

#urban_table .gt_from_md > :last-child {
  margin-bottom: 0;
}

#urban_table .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#urban_table .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: dashed;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#urban_table .gt_row_group_first td {
  border-top-width: 2px;
}

#urban_table .gt_row_group_first th {
  border-top-width: 2px;
}

#urban_table .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#urban_table .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#urban_table .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#urban_table .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#urban_table .gt_table_body {
  border-top-style: transparent;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: transparent;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#urban_table .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_footnote {
  margin: 0px;
  font-size: 13px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#urban_table .gt_sourcenote {
  font-size: 13px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#urban_table .gt_left {
  text-align: left;
}

#urban_table .gt_center {
  text-align: center;
}

#urban_table .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#urban_table .gt_font_normal {
  font-weight: normal;
}

#urban_table .gt_font_bold {
  font-weight: bold;
}

#urban_table .gt_font_italic {
  font-style: italic;
}

#urban_table .gt_super {
  font-size: 65%;
}

#urban_table .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#urban_table .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#urban_table .gt_indent_1 {
  text-indent: 5px;
}

#urban_table .gt_indent_2 {
  text-indent: 10px;
}

#urban_table .gt_indent_3 {
  text-indent: 15px;
}

#urban_table .gt_indent_4 {
  text-indent: 20px;
}

#urban_table .gt_indent_5 {
  text-indent: 25px;
}

#urban_table .gt_row {
  padding: 5px 5px 5px 5px;
}

#urban_table .gt_sourcenote {
  padding: 16px 0px 0px 0px;
}

#urban_table .gt_footnote {
  padding: 16px 0px 0px 0px;
}

#urban_table .gt_subtitle {
  padding: 0px 0px 2px 0px;
}

#urban_table .gt_col_heading {
  padding: 10px 5px 10px 5px;
}

#urban_table .gt_col_headings {
  padding: 0px 0px 0px 0px;
  border-top-width: 0px;
}

#urban_table .gt_group_heading {
  padding: 15px 0px 0px 0px;
}

#urban_table .gt_stub {
  border-bottom-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: #d2d2d2;
  border-top-color: black;
  text-align: left;
}

#urban_table .gt_grand_summary_row {
  border-bottom-width: 1px;
  border-top-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: #d2d2d2;
  border-top-color: #d2d2d2;
}

#urban_table .gt_summary_row {
  border-bottom-width: 1px;
  border-top-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: #d2d2d2;
}

#urban_table .gt_column_spanner {
  padding-top: 10px;
  padding-bottom: 10px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="2" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="color: #696969; text-align: left; font-weight: normal; text-transform: uppercase;"></td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="color: #000000; font-size: 13px; font-weight: bold;" scope="col" id="gender">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="color: #000000; font-size: 13px; font-weight: bold;" scope="col" id="height">height</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="gender" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">masculine</td>
<td headers="height" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">172</td></tr>
    <tr><td headers="gender" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">masculine</td>
<td headers="height" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">167</td></tr>
    <tr><td headers="gender" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">masculine</td>
<td headers="height" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">96</td></tr>
    <tr><td headers="gender" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">masculine</td>
<td headers="height" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">202</td></tr>
    <tr><td headers="gender" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">feminine</td>
<td headers="height" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">150</td></tr>
    <tr><td headers="gender" class="gt_row gt_left" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">masculine</td>
<td headers="height" class="gt_row gt_right" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #d2d2d2; border-top-width: 0px; border-top-style: solid; border-top-color: #d2d2d2;">178</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p><font color="#55b748"><strong>Part 1: Gender synthesis</strong></font></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Template</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Solutions</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<p>Fill in the blanks in the following code to synthesize the <code>gender</code> variable using the underlying distribution present in the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set a seed so pseudo-random processes are reproducible</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">20220301</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill in the blanks!</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># vector of gender categories</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>gender_categories <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"feminine"</span>, <span class="st">"masculine"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># size of sample to generate</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>synthetic_data_size <span class="ot">&lt;-</span> <span class="fu">nrow</span>(starwars)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># probability weights</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>gender_probs <span class="ot">&lt;-</span> starwars <span class="sc">|&gt;</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(gender) <span class="sc">|&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">relative_frequency =</span> <span class="do">### ______) |&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(relative_frequency)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co"># use sample function to generate synthetic vector of genders</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>gender_synthetic <span class="ot">&lt;-</span> <span class="fu">sample</span>(</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="do">###_____, </span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="do">###_____,</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">replace =</span> <span class="do">###_____, </span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">prob =</span> <span class="do">###_____</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>                          </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># create starwars_synthetic dataset using generated variable</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>starwars_synthetic <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">gender =</span> gender_synthetic</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><font color="#55b748"><strong>Part 2: Height synthesis</strong></font></p>
<p>Similarly, fill in the blanks in the code to generate the <code>height</code> variable using a linear regression with <code>gender</code> as a predictor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set a seed so pseudo-random processes are reproducible</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">20220301</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill in the blanks!</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># linear regression</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>height_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> <span class="do">###_____,</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> <span class="do">###______</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># predict flipper length with model coefficients</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>height_predicted <span class="ot">&lt;-</span> <span class="fu">predict</span>(</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">object =</span> height_lm, </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> <span class="do">###_____</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># synthetic column using normal distribution centered on predictions with sd of residual standard error</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>height_synthetic <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="do">###_______, </span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">mean =</span> <span class="do">###______, </span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd =</span> <span class="do">###______</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># add new values to synthetic data as height</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>starwars_synthetic <span class="ot">&lt;-</span> starwars_synthetic <span class="sc">|&gt;</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">height =</span> height_synthetic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<p>Fill in the blanks in the following code to synthesize the <code>gender</code> variable using the underlying distribution present in the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set a seed so pseudo-random processes are reproducible</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">20220301</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill in the blanks!</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># vector of gender categories</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>gender_categories <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"feminine"</span>, <span class="st">"masculine"</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># size of sample to generate</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>synthetic_data_size <span class="ot">&lt;-</span> <span class="fu">nrow</span>(starwars)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># probability weights</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>gender_probs <span class="ot">&lt;-</span> starwars <span class="sc">|&gt;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(gender) <span class="sc">|&gt;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">relative_frequency =</span> n <span class="sc">/</span> synthetic_data_size) <span class="sc">|&gt;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(relative_frequency)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># use sample function to generate synthetic vector of genders</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>gender_synthetic <span class="ot">&lt;-</span> <span class="fu">sample</span>(</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> gender_categories, </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> synthetic_data_size,</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">replace =</span> <span class="cn">TRUE</span>, </span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">prob =</span> gender_probs</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>                          </span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="co"># create starwars_synthetic dataset using generated variable</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>starwars_synthetic <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">gender =</span> gender_synthetic</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><font color="#55b748"><strong>Part 2: Height synthesis</strong></font></p>
<p>Similarly, fill in the blanks in the code to generate the <code>height</code> variable using a linear regression with <code>gender</code> as a predictor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set a seed so pseudo-random processes are reproducible</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">20220301</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill in the blanks!</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># linear regression</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>height_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> height <span class="sc">~</span> gender,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> starwars</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co"># predict flipper length with model coefficients</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>height_predicted <span class="ot">&lt;-</span> <span class="fu">predict</span>(</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">object =</span> height_lm, </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> starwars_synthetic</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co"># synthetic column using normal distribution centered on predictions with sd of residual standard error</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>height_synthetic <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> synthetic_data_size, </span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">mean =</span> height_predicted, </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd =</span> <span class="fu">sigma</span>(height_lm)</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co"># add new values to synthetic data as height</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>starwars_synthetic <span class="ot">&lt;-</span> starwars_synthetic <span class="sc">|&gt;</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">height =</span> height_synthetic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="suggested-reading---synthetic-data" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="suggested-reading---synthetic-data"><span class="header-section-number">2.11</span> Suggested Reading - Synthetic Data</h2>
<p>Snoke, J., Raab, G. M., Nowok, B., Dibben, C., &amp; Slavkovic, A. (2018). General and specific utility measures for synthetic data. Journal of the Royal Statistical Society: Series A (Statistics in Society), 181(3), 663-688. <a href="https://rss.onlinelibrary.wiley.com/doi/pdf/10.1111/rssa.12358">link</a></p>
<p>Bowen, C. M., Bryant, V., Burman, L., Czajka, J., Khitatrakun, S., MacDonald, G., … &amp; Zwiefel, N. (2022). Synthetic Individual Income Tax Data: Methodology, Utility, and Privacy Implications. In International Conference on Privacy in Statistical Databases (pp.&nbsp;191-204). Springer, Cham. <a href="https://link.springer.com/chapter/10.1007/978-3-031-13945-1_14">link</a></p>
<p>Raghunathan, T. E. (2021). Synthetic data. Annual Review of Statistics and Its Application, 8, 129-140. <a href="https://www.annualreviews.org/doi/abs/10.1146/annurev-statistics-040720-031848">link</a></p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-bowen2021differentially" class="csl-entry" role="listitem">
Bowen, Claire McKay, Fang Liu, and Bingyue Su. 2021. <span>“Differentially Private Data Release via Statistical Election to Partition Sequentially.”</span> <em>Metron</em> 79 (1): 1–31.
</div>
<div id="ref-rubin1977formalizing" class="csl-entry" role="listitem">
Rubin, Donald B. 1977. <span>“Formalizing Subjective Notions about the Effect of Nonrespondents in Sample Surveys.”</span> <em>Journal of the American Statistical Association</em> 72 (359): 538–43.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./b_data-privacy-and-synthetic-data.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Data Privacy and Synthesis</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03_disclosure_utility_metrics.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Utility and Disclosure Risk Metrics</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>